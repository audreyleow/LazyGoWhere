(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{139:function(e,t,n){},164:function(e,t){},186:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),c=n(40),r=n.n(c),o=(n(139),n(19)),s=n(30),d=n.n(s),l=n(47),x=n(8),u=n(13),j=(n(71),n(1)),p=a.a.createContext({user:void 0,setUser:function(){},signOut:function(){}});function h(e){var t=e.children,n=a.a.useState(),i=Object(x.a)(n,2),c=i[0],r=i[1],o=function(){var e=Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.auth().signOut();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsx)(p.Provider,{value:{user:c,setUser:r,signOut:o},children:t})}function b(){return a.a.useContext(p)}u.a.apps.length?u.a.app():u.a.initializeApp({apiKey:"AIzaSyDMyE240YFvvJJl-zXDICaNa4PDCoeYJwQ",authDomain:"lazy-go-where-dev.firebaseapp.com",projectId:"lazy-go-where-dev",storageBucket:"lazy-go-where-dev.appspot.com",messagingSenderId:"871647532967",appId:"1:871647532967:web:78aa38758371dec5db0882"});var f=n(121),g=n.n(f),O=n(226),m=n(250),v=n(251),y=n(33),S=n.p+"static/media/login_background.d33cb01a.png";function w(e){var t=e.children;Object(o.f)();return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(O.a,{sx:{height:"100%",padding:"10px 15px 20px",background:"url(".concat(S,")  no-repeat center center fixed"),backgroundSize:"cover"},children:[Object(j.jsx)(m.a,{component:y.b,to:"/",sx:{color:"#3459B9",fontFamily:"SingleDayRegular",fontSize:"36px",fontWeight:"400",paddingBottom:"30px",textDecoration:"none"},children:"Lazy Go Where"}),Object(j.jsx)(m.a,{sx:{fontSize:"42px",fontWeight:"300",color:"#000000",textAlign:"center"},children:"Lazy to plan for your next outing? Leave it to us."}),Object(j.jsx)(v.a,{sx:{width:"70%",margin:"auto",padding:"10px 20px 20px",borderRadius:"20px"},children:t})]})})}function I(e){var t=e.setStep,n=a.a.useMemo((function(){return{signInFlow:"popup",signInOptions:[u.a.auth.EmailAuthProvider.PROVIDER_ID,u.a.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){return t(1),!1}}}}),[t]);return Object(j.jsx)(w,{children:Object(j.jsx)(g.a,{uiConfig:n,firebaseAuth:u.a.auth()})})}var D=n(5),k=n(20),R=n(252),C=n(247),A=n(254),E=n(234),F=n(246),W=n(237),z=n(241);function T(e){var t=e.DropdownQuestion,n=e.DropdownCaption,i=e.DropdownValue,a=e.DropdownChangeHandler,c=e.DropdownContent;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(m.a,{sx:{fontSize:"24px",fontWeight:"300",color:" #333333",paddingTop:"10px",paddingBottom:"10px",fontFamily:"Roboto"},children:t}),Object(j.jsxs)(R.a,{sx:{width:"280px"},children:[Object(j.jsx)(F.a,{id:"input-selector",children:n}),Object(j.jsx)(W.a,{labelId:"input-selector",value:i,label:n,onChange:a,inputProps:{"aria-label":"Without label"},autoWidth:!0,children:c.map((function(e){return Object(j.jsx)(z.a,{sx:{width:"280px"},value:e,children:e},e)}))})]})]})}var V=n(17),B=n(194),P=n(253),J=n(242),N=["Accommodation","Attractions","Bars & Clubs","Events","Food & Beverages","Tours","Venues"],H=[1,2,3,4,5];function Y(e){var t=e.activitiesSelected,n=e.handleActivitiesSelected,i=0===Object.values(t).filter((function(e){return e})).length,a=N.reduce((function(e,t){return e[e.length-1].length>=4?[].concat(Object(V.a)(e),[[t]]):(e[e.length-1].push(t),e)}),[[]]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(m.a,{sx:{fontSize:"24px",fontWeight:"300",color:" #333333",paddingTop:"20px"},children:"What activities would you like?"}),Object(j.jsx)(O.a,{sx:{display:"flex"},children:a.map((function(e){return Object(j.jsx)(R.a,{required:!0,error:i,component:"fieldset",sx:{m:3},variant:"standard",children:Object(j.jsx)(B.a,{sx:{display:"flex",flexDirection:"column"},children:e.map((function(e){return Object(j.jsx)(P.a,{control:Object(j.jsx)(J.a,{checked:t[e],onChange:n,name:e}),label:e,labelPlacement:"start"},e)}))})},e)}))})]})}var L=n(233),U=n(240);function M(e){var t=e.RadioFeatureQuestion,n=e.buildingOption,i=e.handleBuildingOption;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(m.a,{sx:{fontSize:"24px",fontWeight:"300",color:" #333333",paddingTop:"10px",paddingBottom:"10px"},children:t}),Object(j.jsx)(R.a,{component:"fieldset",children:Object(j.jsxs)(L.a,{name:"controlled-radio-buttons-group",value:n,onChange:i,children:[Object(j.jsx)(P.a,{value:"BUILD-YOUR-OWN",control:Object(j.jsx)(U.a,{}),label:"Build-Your-Own"}),Object(j.jsx)(P.a,{value:"AUTO-BUILD",control:Object(j.jsx)(U.a,{}),label:"Auto-Build"})]})})]})}var G=n(46),Z=n.n(G),q=n(28),K=n.n(q);function Q(){var e=b().user,t=Object(o.f)(),n=Object(i.useState)(null),a=Object(x.a)(n,2),c=a[0],r=a[1],s=Object(i.useState)(""),u=Object(x.a)(s,2),p=u[0],h=u[1],f=Object(i.useState)("BUILD-YOUR-OWN"),g=Object(x.a)(f,2),O=g[0],v=g[1],y="AUTO-BUILD"===O;console.log(y);var S=Object(i.useState)(N.reduce((function(e,t){return Object(k.a)(Object(k.a)({},e),{},Object(D.a)({},t,!1))}),{})),I=Object(x.a)(S,2),F=I[0],W=I[1],z=function(){var n=Object(l.a)(d.a.mark((function n(){var i;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=Object.entries(F).filter((function(e){var t=Object(x.a)(e,2);t[0];return t[1]})).map((function(e){return Object(x.a)(e,1)[0]})),!e){n.next=5;break}return n.next=4,K.a.post("/users/itineraries/init",{name:p,numberOfActivities:c,isAutoBuild:!0,categoryDescriptions:i},{headers:{token:e.token}});case 4:n.sent;case 5:t.push({pathname:"/recommendations",search:"?"+Z.a.stringify({categoryDescriptions:i})});case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(w,{children:Object(j.jsxs)(E.a,{sx:{width:"100%",margin:"auto",display:"flex",flexDirection:"column"},children:[Object(j.jsxs)(E.a,{children:[Object(j.jsx)(m.a,{sx:{fontSize:"24px",fontWeight:"300",color:" #333333",paddingTop:"10px",paddingBottom:"10px",fontFamily:"Roboto"},children:"Name your itinerary:"}),Object(j.jsx)(R.a,{sx:{width:"60%"},children:Object(j.jsx)(C.a,{value:p,onChange:function(e){h(e.target.value)}})})]}),Object(j.jsx)(E.a,{children:Object(j.jsx)(T,{DropdownQuestion:"How many activities would you like?",DropdownCaption:"Select number of activities",DropdownValue:c,DropdownChangeHandler:function(e){r(e.target.value)},DropdownContent:H})}),Object(j.jsx)(E.a,{children:Object(j.jsx)(Y,{activitiesSelected:F,handleActivitiesSelected:function(e){W((function(t){return Object(k.a)(Object(k.a)({},t),{},Object(D.a)({},e.target.name,e.target.checked))}))}})}),Object(j.jsx)(E.a,{children:Object(j.jsx)(M,{RadioFeatureQuestion:"How would you like to build your itinerary?",buildingOption:O,handleBuildingOption:function(e){v(e.target.value)}})}),Object(j.jsx)(E.a,{sx:{display:"flex",justifyContent:"center"},children:Object(j.jsx)(A.a,{variant:"contained",sx:{backgroundColor:"#3459B9",padding:"8px 38px",height:"fit-content",fontSize:"22px",fontWeight:"700"},onClick:function(){return z()},children:"LET'S GO!"})})]})})})}function X(){var e=b().user,t=Object(o.f)(),n=Object(i.useState)(e?1:0),a=Object(x.a)(n,2),c=a[0],r=a[1];return Object(i.useEffect)((function(){e&&(r(1),K.a.get("/users/itineraries",{headers:{token:e.token}}).then((function(e){e.data.itineraries.length>0&&t.push({pathname:"/recommendations",search:"?"+Z.a.stringify({categoryDescriptions:N})})})))}),[e]),0===c?Object(j.jsx)(I,{setStep:r}):Object(j.jsx)(Q,{})}var _=n(255),$=n(256),ee=n(243),te=n(244),ne=n(80),ie=n.n(ne),ae=n(25),ce=n.n(ae),re=void 0,oe=a.a.createContext(re);function se(e){var t=e.children,n=a.a.useState(!1),i=Object(x.a)(n,2),c=i[0],r=i[1],o=a.a.useReducer((function(e,t){switch(t.type){case"LOADED_ITINERARY_UPDATED":return t.payload;case"ACTIVITIES_UPDATED":return Object(k.a)(Object(k.a)({},e),{},{activities:t.payload});case"ACTIVITY_REMOVED":return Object(k.a)(Object(k.a)({},e),{},{activities:e.activities.filter((function(e){return e._id!==t.payload}))});case"ACTIVITY_ADDED":return r(!0),Object(k.a)(Object(k.a)({},e),{},{activities:[].concat(Object(V.a)(e.activities.filter((function(e){return e._id!==t.payload._id}))),[t.payload])});default:throw new Error("Invalid action type")}}),re),s=Object(x.a)(o,2),d=s[0],l=s[1];return Object(j.jsx)(oe.Provider,{value:{state:d,dispatch:l,isMainDrawerOpen:c,setIsMainDrawerOpen:r},children:t})}function de(){return a.a.useContext(oe)}function le(){var e=Object(o.h)().activityId,t=de(),n=t.state,i=t.dispatch,c=a.a.useState(),r=Object(x.a)(c,2),s=r[0],d=r[1],l=a.a.useState(),u=Object(x.a)(l,2),p=(u[0],u[1]),h=a.a.useState(!1),b=Object(x.a)(h,2),f=b[0],g=b[1],O=function(e,t){"clickaway"!==t&&g(!1)};if(a.a.useEffect((function(){K.a.get("/activities/".concat(e)).then((function(e){d(e.data)})).catch((function(e){var t;console.log(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))}),[]),!s)return Object(j.jsxs)(E.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",height:"100vh",justifyContent:"center"},children:[Object(j.jsx)(_.a,{}),Object(j.jsx)(m.a,{children:"Loading..."})]});var v,y=Object(j.jsx)(j.Fragment,{children:Object(j.jsx)($.a,{size:"small","aria-label":"close",color:"inherit",onClick:O,children:Object(j.jsx)(ie.a,{fontSize:"small"})})});return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(ee.a,{open:f,autoHideDuration:6e3,onClose:O,message:"You have reached the maximum number of activities you can add. Please adjust the number of activities allowed for this itinerary if you wish to add another activity!",action:y}),s.imageIds.length>0?Object(j.jsx)("img",{src:(v=s.imageIds[0],"https://firebasestorage.googleapis.com/v0/b/lazy-go-where-dev.appspot.com/o/".concat(v,".jpeg?alt=media")),style:{height:"350px",width:"100%"}}):Object(j.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/f/f9/Phoenicopterus_ruber_in_S%C3%A3o_Paulo_Zoo.jpg",style:{height:"350px",width:"100%"}}),Object(j.jsxs)(E.a,{sx:{padding:"20px 140px"},children:[Object(j.jsxs)(E.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(j.jsxs)(E.a,{children:[Object(j.jsx)(m.a,{sx:{paddingTop:"10px",fontSize:"32px",fontWeight:"700",color:"#000000"},children:s.name}),Object(j.jsxs)(m.a,{sx:{display:"flex",alignItems:"center",paddingBottom:"10px",fontSize:"16px",fontWeight:"200",fontFamily:"Roboto"},children:["Rating: \xa0 ",s.rating,Object(j.jsx)(te.a,{name:"read-only",value:s.rating,precision:.1,readOnly:!0})]}),Object(j.jsx)(E.a,{sx:{display:"flex",paddingBottom:"20px"},children:s.tags.slice(0,5).map((function(e){return Object(j.jsx)(m.a,{sx:{paddingRight:"10px",fontSize:"16px",fontWeight:"200",fontFamily:"Roboto"},children:e})}))})]}),Object(j.jsx)(E.a,{children:Object(j.jsx)(A.a,{variant:"contained",fullWidth:!0,sx:{backgroundColor:"#159600",fontSize:"18px",fontWeight:"400",textTransform:"none"},disabled:ce.a.isEmpty(n)||n.activities.some((function(e){return e._id===s._id})),onClick:function(){n.activities.length<n.numberOfActivities?i({type:"ACTIVITY_ADDED",payload:s}):g(!0)},children:"Add to itinerary"})})]}),Object(j.jsxs)(E.a,{children:[Object(j.jsxs)(m.a,{sx:{display:"flex",alignItems:"center",paddingBottom:"10px",fontSize:"16px",fontWeight:"200",fontFamily:"Roboto"},children:["Address: \xa0",s.address.block+" "+s.address.streetName+", "+s.address.postalCode]}),s.businessHour.length>0&&Object(j.jsxs)(m.a,{sx:{display:"flex",alignItems:"center",paddingBottom:"10px",fontSize:"16px",fontWeight:"200",fontFamily:"Roboto"},children:["Opening Hours: \xa0",Object(j.jsx)(R.a,{sx:{m:1,minWidth:120},children:Object(j.jsx)(W.a,{displayEmpty:!0,value:s.businessHour[0].openTime+" - "+s.businessHour[0].closeTime+" ("+ce.a.startCase(s.businessHour[0].day)+")",onChange:function(e){p(e.target.value)},children:s.businessHour.map((function(e){return Object(j.jsx)(z.a,{value:e.openTime+" - "+e.closeTime+" ("+ce.a.startCase(e.day)+")",children:e.openTime+" - "+e.closeTime+" ("+ce.a.startCase(e.day)+")"})}))})})]})]})]})]})}var xe=n(257),ue=n(258),je=n(259),pe=n(248),he=n(235),be=n(236),fe=n(124),ge=n.n(fe),Oe=n(84);function me(e){var t=e.activity,n=e.index,i=de().dispatch;return Object(j.jsx)(Oe.b,{draggableId:t._id,index:n,children:function(e){return Object(j.jsxs)(E.a,Object(k.a)(Object(k.a)(Object(k.a)({sx:{display:"flex",alignItems:"center",backgroundColor:"#E5E5E5",boxShadow:"0px -4px 25px 0px #0000001A",padding:"10px 20px",border:"1px solid"},ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:[Object(j.jsx)(ge.a,{sx:{color:"#3459B9",paddingRight:"5px"}}),Object(j.jsxs)(E.a,{sx:{display:"flex",flex:"1",alignItems:"center",justifyContent:"space-between"},children:[ce.a.startCase(ce.a.camelCase(t.name)),Object(j.jsx)($.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){return i({type:"ACTIVITY_REMOVED",payload:t._id})},children:Object(j.jsx)(ie.a,{fontSize:"small"})})]})]}))}})}function ve(){var e=de(),t=e.state,n=e.dispatch;return Object(j.jsx)(Oe.a,{onDragEnd:function(e){if(e.destination&&e.destination.index!==e.source.index){var i=function(e,t,n){var i=Array.from(e),a=i.splice(t,1),c=Object(x.a)(a,1)[0];return i.splice(n,0,c),i}(t.activities,e.source.index,e.destination.index);n({type:"ACTIVITIES_UPDATED",payload:i})}},children:Object(j.jsx)(Oe.c,{droppableId:"list",children:function(e){return Object(j.jsxs)("div",Object(k.a)(Object(k.a)({ref:e.innerRef},e.droppableProps),{},{children:[t.activities.map((function(e,t){return Object(j.jsx)(me,{activity:e,index:t},e._id)})),e.placeholder]}))}})})}function ye(e){var t,n=e.loadedItinerary,a=e.setLoadedItinerary,c=e.setUserItineraries,r=e.userItineraries,o=b().user,s=n.numberOfActivities,u=Object(i.useState)(s),p=Object(x.a)(u,2),h=p[0],f=p[1],g=de().dispatch,O=null===(t=r.find((function(e){return e._id===n._id})))||void 0===t?void 0:t.activities.length,v=n.numberOfActivities-n.activities.length;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(E.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",padding:"30px 10px"},children:[Object(j.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF4AAABOCAYAAACpBKH1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABFgSURBVHgB7V0JcBzVmf5e95yaGY1GI41Hh63RffsA2cRgQkwMJslmHS4vVEKxEJZkq7K7FbLZFCyVq3YJ1LJJwdZWyGYDoZK4EgJJmcQJVLiKxDE2BCPLsizLsmRb1jnW6Bgdc3R3/ve6R5LxBeNpDUnN52rUc3W//t7//v9///+/B9MIyGHZISGHrCBHfJaQIz5LyBGfJeSIzxJyxGcJOeKzhBzxWUKO+CwhR3yWYA7xmnFANQ6FXibpTI9OaMbb4i+9xYMWCh29w9N4fe8IhiZi9Jp/WxPfSR2qpl9WoR+nrpX6s3jPizXsXd83Dt4+GFdNGvfRP+MvknRPYDqmYvf+EYSpfTDaly5Y5mM1vDkJfmnwfmWqpJ/CIJAejj/E6cl59Jycwv6OQRw7BfT0TCE8H4GqepHHphAsKUKozIKmWjfaWsuwKuiCyybzBtPlLHRNBo0pxqNz+VHFtWX+WeqG52jb4im1k6WY5y2yUVtT76uYj6s4MRbDoZ5RHOiZQd+JCfT1n0ZcseDe7SHcdWMTVPq9JO73/pF54vnVVE2XBsbpSGJqOomB00kc7B1De9ckurrDCI9r8Ho88HlUrG3JR0udDxPxGL73o2489KWN6Ds2hsO9EfQOJHBqeI54TqKi3InmRj9WN/lRXZqP0gIn8hxEukTEqYwehs5l6cJt450l2pgSCIa5eAITU0TuiIL2I6N4o30U/SfG6asyfF4fqlY60VTlQEtrKf53x0FsaAngC7fU031V+rWMdJBed531NPoD6PKjoX9kmqQ5gkPHZtF9lMg7FsH0XAKB4nw0V7lx09ZVaKjyojZUBE+ehZpOD0DD+eW3RmCVHGiqdGNjo4ckz0LDnmF0fB7dvcPoODyB3hOTePkPYcxEIyj02dFYU0IdUYzqMhvqQ1543Q5qCVsi80vlignSE3EJnT1hodoOkBAc6p3CyFiUPpZRV+1Hc0U+bttSgboaP0qLXbDzviUBStLnvjyS8QX1Jp1/cF0EaROf1BI0NBlOT8VxkhNN0nnkZBz7SFrGp+fgdVmwsiQfdSEftl4ZxBVrS1BcaIWFWVIUGJww8cB80HK6VAvvBHpPsoh3bPSNcr8D5UUhXHuF/pP5WALHB6N462AYfUMxPP+7I4I4DVaEyr1Y2+CjjnCioaYYK/wSwlMqevrH0T8QQ0fXBDqPjSJJaiVY5ETNSg+2bizHmpYC1FcF4LEzcf8z+eTiRO3RmKHXmU54mqRzpEc83Vui3n72pW489dwAJqPzKPa5cNnqIvzdJ6rQWOFCTZUfLidpXMb1pyT0J9fxbGFksrMbrhmWdinYmaf8cJI6aSSprA+56fucjBZSZXNE6Bj6jsfQ3TeGnS93IzYvw+O1IDEnQ1Fm0NBYgtb6InxicwDVIRfZkHwhCJIiCeHlakgS9uLMtmnaOey2dnb73g/StAyceBldfVMoXeXGD//lGvhIwq2cYO6hyNzI0Zc0RXyZG0H+niZuaMclQ1yL6fqV8bMEKorsqPCvhNbGDW41qQXg2OAc7vrXV/D1+9bhynVBuHinM5aSWV0lcYmwJAzldDbpZiFNVcMtf5LItyNfnkfARR6B8DI0YUxl/gCatKADGXWSjEXNcqlgmtVgLkWhLFSAytSULwUb8VkRcNK5ispgHtxipEmiFZJwX/ipbLTRRu6rgsmZJNxkc6zG0IpE4/A5nEjTfl4Qafrx+uMJ3/wMQWF0SqQISVx8P3WwTElS6rpLFK0u/7Lh3vEhyaVZVyGSqv+G8YPpHbXQRqNNKg3OB/7zVfz/M0eQIEPfcTiCz33lD+g6OQQzkAGv5q8DEvXOp25ZjW89uh+j5By88dYo2taQLVgZhBnIhQxSoKFx3Vo/7vp0NV54bRz+Ige+fGczubdJmIEc8Qa4CjpwPIrnfh0mq5BAd/8sntrZRTNpcyxtjngDCrmlj33/j6ird6Ch2oFrWwN49sV+HOwLwwzkdLwBC7kKD//bdcgn9ycei8NpdSASb4TP5oAZyBFvQCXjWpxPXhHNlpx5DqFigi6rCJiZoRhyqsaA8FB5OIMme6MzpOUXopfmyGaO+AUwMc9QKEb02fuex563T4KTzlKTrQwjR7wBzZjdzSY0CvxZYXPYeMiO/plDUY74BXDiFUxNJmCRYxTCpgCcEWIwAzniDYhQNOn3Y6em4MpzIUDRVo2/lyPeZJAh1Sj4NjMZpWyTjdKMSRFcMitQaZ47KQKHFDEU8fV5ctPy6MFU4z2KH/JwLk84SLqk6QHxLELPVGLLh6ux+eoayCwh3mYiGJh5mPK0qpFA5kHi4fA8Og5Nkp9MkUwieV/nGL7780PY2z6MGIWWRXafcpsaiyGbEIJAHgzPKTgkfm4zIpnmyLwpEs8E5cDeg6N45Ml3UL3Cg0eaV0AmiU8qSeztnMBPdh1FdUkB7ry5Bh9pC9Jn2ZzLaYirKnbvG4DbYUHb2qCQdDNhytW5CukfmsQ3Ht+HtZVl+I/71lPSiAmXbWNrGZ76xkb84Jub0NzkxkP/8ybePjpM6TfZCNgzk8zZubB4p+mZOB7b0UtJ+qheCmQyMi5mXNa5Wv/Zb4+jwOfGl+5pobjHYrKCJyh4hqip0o9aOu74WC2K/G6ochIJVYJMHaBIy0A9NVLhOVZNr6p5emc35hMJbNtSQwIim579y7jEMyPHOknJ58/fWgePY0kK6l3ZeSs9clmxB3ZZf3PP25T9l3hKURWFS+ZDTxn2npzGr14dxz3ba0hIZCOlaC5MUDW8dkWmBPN6bFpXdpEyN+7V6Glrnjz3eSyYiyt4/c3wYomeWRD5WSYqH36/uxeVgSQ+vikESdaWxcc2waJpIsJnl2J05hJJ8fMbKmmxtIakrKneh8SLI3jk/zrgtNuwpa0IjFeGiWtkuql6yQlv2vZta3DT31BU0mIUKGnmVxpkvHO5hO8mlbH3QFS4YxcjbFHz6E1xWVXc8JFi/NcTu9F/OkLJ9DgRZIbHQ+4uz4IT+/lOCwrdNpEc17Pi5td3mGBcgV++3A+PKw9XrC6m1/J7ew4ehqUusNsVfOEza/CPNzahyOvgxX2CoEy6d7xcVKHjsafbUV+Sj49dvwqydKFi18zDBOMqYT5OUsqn3Kr23p+F6bpV5TU4pHh9hTYheaqmYGBkVp8Ba++xGvu8UMXsmV/q16+cws9+14PASrdeE4TlhUl2hOlqUpD+3h5JEwZWgR6XIv0rSYKQ9u4R/MMDr+H19hEiTFmY2qfVJk130d/pmcR3dnTh3u11WN8YIBJksGWUdg5TdLzFagcSFpFOS9czEw0jj6elNogrNwTxtW/vw2sHxsUISFc8ea3+2OQcHnq8HR9eX4g7P7WGOldZiMUvJ0yZp9+8uYRMF69H4VVlqTK7NECGz0Y995V7VsNP+c+vPrwH/3x3LW65vjGtK2o0SfPlO/Dpm8qw9aoqeviEKAXXx4F5cZlzIePEc0m9ekO5yN7oeuFStKdeum0nPj7/mSYEi1wYHh4X+p4rB75ARuJ1L9z3JvXEVYlwTHSfEHE67EmZ8qcqhoaiCK5ww0afb/toBf2Of9EiMkzSsmt4UySedLWkG0n9gdLVZkY9r5EE4vRsu74ailoqRkKSWH67axStNcVw8sJkSaEQgCT0NbcV3MDIdCQom3T/dw9hYmgMLzz5t9SJ9B1mTekyo3V/JarmVHgaO37RiX+6u41CrNZLtySiFJsaS/+xSE5hZI/0TeKBR/fD53fhoxsDaKr24rIaP1wuvS75cN8EnvnNcSQkL3yOBP79yxtht8pZoPjcyJhx1VKqhRTA9LyC51+K4CRf3sJDUFrSCB1cwpDWdNHndS5c1dSGCvD9h6/GJ68qxWu7T+HBh9/Et57Yo7eCpPrA4RFMxagT1Ci+eEcr2loLwbKgUs6HzEi8sbSSR/nGIgn8dFcf4lYb7n/0T/ji31+ODU1OklSmLyZIy4NgC2XZosjaWFZSGchHaJsTt32yEnMJsgdKXFgF3p5bb2jEtuuAzXf0Ic/G62WWd4J0MWRE4lVyyfi0PjIdx71fewlHe6P47I0lqAt58eB/v4lnX+mjz2WxPDHTYBpfSGCBhzxYj8MhbHmqc1V1canqBw0ZkXhuonhq7zc0G1Tpkt95cD2K3DL3OfDkL7rwo+cGcPO1DbBcwiq580GTuBKjjudhRm7VDckWcSIGI170wUNGJF4zvJe+U7Noay5GIfncuoch4bqN1YhMahidmDNFw/IQhaRZiXg7nVvxQVInF0JGiE8tkHa5JEoqxGhaQvEWVV9r1HlilGayUTFxMS2xtHTZz18IMuPVaPqwvvWGSgwOkIfx7T3Y0xkmIzuAJ57uwe03NFOsm4nV2TnoyIyq4XqWVMuqgBWP3L8FkVmGrz9+AD95oQfXbPLj3tuqSPrnybjmqsJTyAgTevqaINnR1mDF9756OSbmGJw0lc+zW4xYujVXtrYEmRdB8lwsqg2FjqS+9HEZ0mh/icg88XzHDplPpRQxpeKeBsvJ+lkwRenyioGF5dCiGDQ18VT01dRM00MMmp4wkVRVr0WnSZis6psGqRo3xDygJYMt7OZjRMyM/REW6i0zMaJS2TKmLUayNaPWge7D2xjncwLhthr78VzChNAca7eECB6X1wSBkgjdprx+RQQQNMyRLTgxEsXR42G8+sYEojELnt7Zi8vrPKgO+RDwOygfqohrSYwZmz4ZtS8pojLAvMb0fRf4njeqEZ/nwWeNOuQ0zciPnZhAV/8MjvbH0VjlpMbogpHuvU13M2TVagS2KJRLJPGYyoHOERw6HMbhgVn0D0QwNjYPq8WGtU0BfHyzX+za9MyuaVhJ/GvKvRR68CNUloem+kLUVnmpI/QaXlETkKHZMM9O8c27VPLQBkfn8Q614XD/PPqGZ9FzZAax5DhWrMjHNRtLce2HSow9ELIi8cxYpmIxhqMmamP0F5JQIXNJFYNjs2g/FMaBo6Niv5i+YxNEXBLBEh+a6wLYdNkKNFYXIlSeJ5IUfMMJhX47NRVHD42Co4MxvHVwDLt3DSKyYxYetw+hVU5U09HWWoKGSi8CBQ7diqT2N+Gl4IzHSZlok5r6bEk2jIcZ+HfGJhM4OTSDve1D4m/n4WmEJ6ZR4HWIbVXWtgRx65YgWho2oSjfJtSMPtCkhU0rlpV4fXVQElbSxUxRhR9PI1LseNTZG0FH5xhODSYwEjkt4uhrm1fhqnV+fO72RpQHHFhRYCWJtoK9O2LJ9EYVeu24YnUZNrRquH1riEaKghOUReojcjqoIzs6JrHzt8dhdVhREnCjImjFumYiqIlGR6kbdm43FAm2mL5OVSGWFSmBcETFH/cPoLsnju6j4whPTmMimkRJPrnC64px9/YQGkgQVvjz4HXxigcSKMm25MmtC2fSJTgNae9Jxo3fN5/4E3Z3xLFhtRtHesIYGY6K7E5LQzHKgxa0NgRQX1VA525YeamelhC7e2hG+RhjhgxeIFTMm8eWbLjHmL7ZHK9kn0loZBsi6DoSwTuUjTo+rGDg1BScdgXVlT6srPDjVy/24kPrV0GNTaOnbw4z01GyGx5UVXpQV5mP1bVFqKVRk+9iYu8PSej1FDu6RZKkzHtlaREvBi1J+Y93dWDn74fRXF6IVSUeNJMObm4oovg30wtPjXI4I5QuipMgVlroRkl6H8ZJNFMMbU2sTWLGwjBV0+/B1QZ3Xsen+EKIUdLPUSJ6mnKt4/AWuNBcW4jKUjsuW7OScrcWGGNNvx7/J6XalDKsRuUzXVXOxOZG70LaEq8ZD833ALAaUbJUMXZKijVD3y58Jl5L6W0rdcaebimRNNLUIgaPBT2upT7jep6cFVnWv6kvMFuSCdOYUdqhLTZFO0ejTJgAstz/IyQ7yE0ps4Qc8VlCjvgsIUd8lpAjPkvIEZ8l5IjPEnLEZwk54rOEPwNFOrmsPfIYmgAAAABJRU5ErkJggg=="}),Object(j.jsx)(m.a,{sx:{fontSize:"24px",fontWeight:"400",fontFamily:"Roboto"},children:"Your personal itinerary"}),Object(j.jsxs)(m.a,{sx:{fontSize:"18px",fontWeight:"300",fontFamily:"Roboto",paddingTop:"15px",paddingBottom:"25px"},children:[s," places left to visit. Keep exploring!"]}),Object(j.jsxs)(E.a,{sx:{marginBottom:"20px"},children:[Object(j.jsx)(m.a,{children:"Set the number of activities you would like for this itinerary"}),v>0&&Object(j.jsx)(W.a,{sx:{marginBottom:"20px"},value:h,onChange:function(e){f(e.target.value)},children:Array.from({length:v},(function(e,t){return Object(j.jsx)(z.a,{value:t+n.activities.length+1,children:t+n.activities.length+1})}))})]}),Object(j.jsx)(ve,{}),Object(j.jsx)(A.a,{variant:"contained",disabled:ce.a.isEmpty(n)||O>=n.numberOfActivities,sx:{backgroundColor:"#AA0000",borderRadius:"50px",fontSize:"18px",fontWeight:"300",marginTop:"40px",width:"80%"},onClick:Object(l.a)(d.a.mark((function e(){var t,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.confirm("Your itinerary has not been saved. Press ok if you wish to override unsaved changes in order to auto-complete your itinerary."),!o||!t){e.next=7;break}return e.next=4,K.a.patch("/users/itineraries/complete/".concat(n._id),void 0,{headers:{token:o.token}});case 4:i=e.sent,g({type:"LOADED_ITINERARY_UPDATED",payload:i.data.itineraries.find((function(e){return e._id===n._id}))}),c(i.data.itineraries);case 7:case"end":return e.stop()}}),e)}))),children:"Auto-complete Itinerary"}),Object(j.jsxs)(E.a,{sx:{display:"flex",paddingTop:"40px"},children:[Object(j.jsx)(A.a,{variant:"contained",fullWidth:!0,sx:{backgroundColor:"#B93434",fontSize:"18px",fontWeight:"300",marginRight:"5px"},onClick:Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=7;break}return e.next=3,K.a.delete("/users/itineraries/".concat(n._id),{headers:{token:o.token}});case 3:t=e.sent,g({type:"LOADED_ITINERARY_UPDATED",payload:void 0}),c(t.data.itineraries),a(void 0);case 7:case"end":return e.stop()}}),e)}))),children:"Delete Itinerary"}),Object(j.jsx)(A.a,{variant:"contained",fullWidth:!0,sx:{backgroundColor:"#3459B9",fontSize:"18px",fontWeight:"300",marginLeft:"5px"},onClick:Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=6;break}return e.next=3,K.a.put("/users/itineraries/".concat(n._id),Object(k.a)(Object(k.a)({},n),{},{activityIds:n.activities.map((function(e){return e._id})),numberOfActivities:h}),{headers:{token:o.token}});case 3:t=e.sent,g({type:"LOADED_ITINERARY_UPDATED",payload:t.data.itineraries.find((function(e){return e._id===n._id}))}),c(t.data.itineraries);case 6:case"end":return e.stop()}}),e)}))),children:"Save Itinerary"})]}),Object(j.jsx)(A.a,{sx:{marginTop:"20px"},onClick:function(){a(void 0)},children:"Back"})]})})}function Se(){var e,t=Object(i.useState)({_id:""}),n=Object(x.a)(t,2),a=n[0],c=n[1],r=b(),o=r.user,s=r.signOut,d=Object(i.useState)([]),l=Object(x.a)(d,2),u=l[0],p=l[1],h=de(),f=h.state,g=h.dispatch,v=function(e){g({type:"LOADED_ITINERARY_UPDATED",payload:e?u.find((function(t){return t._id===e._id})):void 0})};return Object(i.useEffect)((function(){o&&K.a.get("/users/itineraries",{headers:{token:o.token}}).then((function(e){p(e.data.itineraries)}))}),[o]),f?Object(j.jsx)(ye,{loadedItinerary:f,setLoadedItinerary:v,setUserItineraries:p,userItineraries:u}):Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(O.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",padding:"30px 10px"},children:[Object(j.jsx)(m.a,{sx:{fontSize:"24px",fontWeight:"400",fontFamily:"Roboto"},children:"Hi, User!"}),Object(j.jsxs)(R.a,{sx:{width:"280px"},children:[Object(j.jsx)(F.a,{id:"itinerary-input",children:"Select itinerary"}),Object(j.jsx)(W.a,{labelId:"itinerary-input",value:null===a||void 0===a?void 0:a._id,label:null!==(e=null===a||void 0===a?void 0:a.name)&&void 0!==e?e:"",onChange:function(e){c(u.find((function(t){return t._id===e.target.value})))},autoWidth:!0,children:u.map((function(e){return Object(j.jsx)(z.a,{sx:{width:"280px"},value:e._id,children:e.name},e._id)}))})]}),Object(j.jsx)(m.a,{sx:{fontSize:"18px",fontWeight:"300",fontFamily:"Roboto",paddingTop:"15px"},children:(null===a||void 0===a?void 0:a.name)&&"Current itinerary: ".concat(a.name)}),Object(j.jsxs)(O.a,{sx:{display:"flex",paddingTop:"40px"},children:[Object(j.jsx)(A.a,{variant:"contained",fullWidth:!0,sx:{backgroundColor:"#B93434",fontSize:"18px",fontWeight:"300",marginRight:"5px"},children:"CREATE NEW"}),Object(j.jsx)(A.a,{disabled:!a,variant:"contained",fullWidth:!0,sx:{backgroundColor:"#3459B9",fontSize:"18px",fontWeight:"300",marginLeft:"5px"},onClick:function(){v(a)},children:"LOAD"})]}),Object(j.jsx)(A.a,{variant:"contained",sx:{backgroundColor:"#AA0000",borderRadius:"50px",fontSize:"18px",fontWeight:"300",marginTop:"40px",width:"80%"},onClick:s,children:"LOG OUT"})]})})}function we(){var e=de().setIsMainDrawerOpen;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(O.a,{role:"presentation",onClick:function(){e(!0)},onKeyDown:function(){e(!1)},children:Object(j.jsx)(Se,{})})})}function Ie(e){var t=de(),n=t.setIsMainDrawerOpen,i=t.isMainDrawerOpen;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(O.a,{sx:{flexGrow:1},children:Object(j.jsx)(xe.a,{position:"static",children:Object(j.jsxs)(ue.a,{sx:{display:"flex",alignItems:"center",backgroundColor:"#FFFFFF",height:"80px",padding:"0px 0px 0px 15px !important",justifyContent:"space-between"},children:[Object(j.jsx)(je.a,{sx:{color:"#3459B9",fontFamily:"SingleDayRegular",fontSize:"36px",fontWeight:"400",paddingRight:"10px",textDecoration:"none"},href:"/",children:"Lazy Go Where"}),Object(j.jsxs)(O.a,{children:[Object(j.jsx)(A.a,{sx:{paddingRight:"10px",borderLeft:"0.3px solid #000000",borderRight:"0.3px solid #000000",borderRadius:"0px","&:hover":{backgroundColor:"#ffffff",boxShadow:"none"}},onClick:function(){n(!0)},children:Object(j.jsx)(he.a,{sx:{color:"#3459B9",fontSize:"40px"}})}),Object(j.jsx)(A.a,{sx:{paddingLeft:"10px",paddingRight:"10px",borderRadius:"0px","&:hover":{backgroundColor:"#ffffff",boxShadow:"none"}},children:Object(j.jsx)(be.a,{sx:{color:"#3459B9",fontSize:"40px"}})})]})]})})}),Object(j.jsx)(pe.a,{keepMounted:!0,PaperProps:{sx:{display:"flex",justifyContent:"center",alignItems:"center"}},anchor:"right",open:i,onClose:function(){n(!1)},children:Object(j.jsx)(we,{})})]})}function De(e){var t=e.item;return Object(j.jsxs)(O.a,{component:y.b,to:"/recommendations/".concat(t._id),sx:{textDecoration:"none",margin:"15px 25px 15px 15px",borderRadius:"15px",width:"300px"},children:[t.imageIds.length>0?Object(j.jsx)("img",{src:"https://firebasestorage.googleapis.com/v0/b/lazy-go-where-dev.appspot.com/o/".concat(t.imageIds[0],".jpeg?alt=media"),style:{width:"300px",height:"270px",borderRadius:"10px"}}):Object(j.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/f/f9/Phoenicopterus_ruber_in_S%C3%A3o_Paulo_Zoo.jpg",style:{width:"300px",height:"270px",borderRadius:"10px"}}),Object(j.jsx)(m.a,{sx:{fontSize:"24px",fontWeight:"700",fontFamily:"Roboto",color:"#000000"},children:t.name}),Object(j.jsx)(m.a,{sx:{fontSize:"24px",fontWeight:"400",fontFamily:"Roboto",color:"#000000",display:"-webkit-box","-webkit-line-clamp":"3","-webkit-box-orient":"vertical",overflow:"hidden"},children:ce.a.capitalize(t.description)})]})}function ke(e){var t=e.categoryName,n=e.entryDetails;return Object(j.jsxs)(O.a,{children:[Object(j.jsx)(m.a,{sx:{fontSize:"36px",fontWeight:"300",fontFamily:"Roboto",color:"#000000"},children:t}),Object(j.jsxs)(O.a,{sx:{display:"flex",overflowY:"hidden",scrollbarWidth:"none","-ms-overflow-style":"none",justifyContent:"space-between","&::-webkit-scrollbar":{width:0,height:0}},children:[n.map((function(e){return Object(j.jsx)(De,{item:e})})),Object(j.jsxs)(O.a,{sx:{textDecoration:"none",width:"300px",backgroundColor:"#4791db",flexShrink:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",borderRadius:"15px",margin:"15px"},children:[Object(j.jsx)("img",{src:"http://cdn.cnn.com/cnnnext/dam/assets/191212182124-04-singapore-buildings.jpg",style:{width:"250px",height:"200px",borderRadius:"10px"}}),Object(j.jsxs)(m.a,{sx:{color:"#FFFFFF",fontSize:"20px",paddingLeft:"35px",paddingRight:"35px"},children:["Check out all the acitivites available for ",t," here!"]}),Object(j.jsx)(A.a,{variant:"contained",component:y.b,to:"/recommendations/".concat(ce.a.kebabCase(t)),sx:{backgroundColor:"#FFFFFF",color:"#4791db",fontSize:"20px",width:"70%","&:hover":{color:"#FFFFFF"}},children:"View More"})]})]})]})}function Re(){var e=Z.a.parse(Object(o.g)().search,{ignoreQueryPrefix:!0}),t=a.a.useState(),n=Object(x.a)(t,2),i=n[0],c=n[1];return a.a.useEffect((function(){e.categoryDescriptions&&K.a.get("/activities?".concat(Z.a.stringify({limit:5,categoryDescriptions:e.categoryDescriptions}))).then((function(e){c(e.data)}))}),[]),i?Object(j.jsxs)(O.a,{sx:{display:"flex",flexDirection:"column",padding:"20px 15px"},children:[Object(j.jsx)(m.a,{sx:{color:"#333333",fontSize:"48px",fontWeight:"300",font:"Roboto"},children:"Recommendations"}),Object.entries(i).map((function(e){var t=Object(x.a)(e,2),n=t[0],i=t[1];return Object(j.jsx)(ke,{categoryName:n,entryDetails:i},n)}))]}):Object(j.jsxs)(O.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",height:"100vh",justifyContent:"center"},children:[Object(j.jsx)(_.a,{}),Object(j.jsx)(m.a,{children:"Loading..."})]})}var Ce=n(249);function Ae(e){var t=e.activities.reduce((function(e,t){return e[e.length-1].length>=3?[].concat(Object(V.a)(e),[[t]]):(e[e.length-1].push(t),e)}),[[]]);return Object(j.jsx)(Ce.a,{container:!0,sx:{display:"block"},children:t.map((function(e){return Object(j.jsx)(Ce.a,{item:!0,sx:{display:"flex",justifyContent:"space-evenly"},children:e.map((function(e){return Object(j.jsx)(De,{item:e})}))})}))})}var Ee=n(260);function Fe(e){var t=e.type,n=Object(i.useState)(),a=Object(x.a)(n,2),c=a[0],r=a[1],o=Object(i.useState)(0),s=Object(x.a)(o,2),d=s[0],l=s[1],u=function(e){return 100*e};Object(i.useEffect)((function(){K.a.get("/activities?".concat(Z.a.stringify({limit:12,skip:u(d),categoryDescriptions:[t]}))).then((function(e){0===e.data[t].length?l(0):r(e.data)}))}),[d]);return c?Object(j.jsxs)(E.a,{sx:{display:"flex",flexDirection:"column",padding:"20px 15px"},children:[Object(j.jsx)(m.a,{sx:{color:"#333333",fontSize:"48px",fontWeight:"300",font:"Roboto"},children:t}),Object.entries(c).map((function(e){var t=Object(x.a)(e,2),n=(t[0],t[1]);return Object(j.jsx)(Ae,{activities:n})})),Object(j.jsx)(E.a,{sx:{display:"flex",justifyContent:"center",paddingTop:"20px",paddingBottom:"10px"},children:Object(j.jsxs)(Ee.a,{variant:"outlined",children:[Object(j.jsx)(A.a,{disabled:!d,onClick:function(){d&&l(d-1)},children:"Previous"}),Object(j.jsx)(A.a,{onClick:function(){l(d+1)},children:"Next"})]})})]}):Object(j.jsxs)(E.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",height:"100vh",justifyContent:"center"},children:[Object(j.jsx)(_.a,{}),Object(j.jsxs)(m.a,{children:[t,"Loading..."]})]})}function We(){var e=Object(o.i)();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Ie,{}),Object(j.jsxs)(o.c,{children:[N.map((function(t){return Object(j.jsx)(o.a,{path:"".concat(e.path,"/").concat(ce.a.kebabCase(t)),children:Object(j.jsx)(Fe,{type:t})})})),Object(j.jsx)(o.a,{path:"".concat(e.path,"/:activityId"),children:Object(j.jsx)(le,{})}),Object(j.jsx)(o.a,{exact:!0,path:e.path,children:Object(j.jsx)(Re,{})})]})]})}var ze=function(){return function(){var e=Object(o.f)(),t=b().setUser;a.a.useEffect((function(){var n=u.a.auth().onAuthStateChanged(function(){var n=Object(l.a)(d.a.mark((function n(i){var a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!i){n.next=8;break}return n.next=3,i.getIdToken(!0);case 3:a=n.sent,t({id:i.uid,email:i.email,token:a}),n.next=10;break;case 8:t(void 0),e.push("/");case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());return function(){return n()}}),[])}(),Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{path:"/recommendations",children:Object(j.jsx)(We,{})}),Object(j.jsx)(o.a,{path:"/",children:Object(j.jsx)(X,{})})]})};r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(h,{children:Object(j.jsx)(se,{children:Object(j.jsx)(y.a,{children:Object(j.jsx)(ze,{})})})})}),document.getElementById("root"))}},[[186,1,2]]]);
//# sourceMappingURL=main.b0eab07b.chunk.js.map